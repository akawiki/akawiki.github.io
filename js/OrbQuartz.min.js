function UpdateDisplay(){for(var u,f,e,i,n,o,r,s=$("#tbl"),h="",c=0,t=0;t<10;++t)1<<t&g_plus&&++c;for(t=0;t<g_qu.length;++t)if(u=g_qu[t],f=g_qs[t],0!=(1<<u.rank&g_rank))for(e=1,i=0;i<u.lv.length;++i)if(0!=(1<<i&g_plus)){for(n="<tr>",e&&(e=0,n+='<td rowspan="'+c+'" class="text-nowrap qrz-rank-'+u.rank+'"><span class="qrzs'+u.type+'"><\/span>',n+=f.namen,n+="<\/td>"),o=u.lv[i],n+="<td>",i>0&&(n+="+"+i),n+="<\/td>",n+='<td class="text-nowrap">',r=0;r<7;++r)o.elem[r]>0&&(n+='<span class="art-orb orbis'+r+'"><\/span><span class="orb'+r+'">'+o.elem[r]+"<\/span>");n+="<\/td>";n+="<td>"+f.lv[i].desc+"<\/td>";n+="<\/tr>";h+=n}s.html(h);s.parent().AffixThead(g_AffixThead)}var g_plus=545,g_rank=8;$(".qz-filter-plus").click(function(){var n=$(this).find("span"),t=$(this).attr("data-index");!n||1!=n.length||!t||t<0||t>9||(n=n[0],$(n).hasClass("glyphicon-ok")?($(n).removeClass("glyphicon-ok"),g_plus&=~(1<<t)):($(n).addClass("glyphicon-ok"),g_plus|=1<<t),UpdateDisplay())});$(".qz-filter-rank").click(function(){var n=$(this).find("span"),t=$(this).attr("data-index");!n||1!=n.length||!t||t<1||t>5||(n=n[0],$(n).hasClass("glyphicon-ok")?($(n).removeClass("glyphicon-ok"),g_rank&=~(1<<t)):($(n).addClass("glyphicon-ok"),g_rank|=1<<t),UpdateDisplay())});$(document).ready(function(){UpdateDisplay()});